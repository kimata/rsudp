@import "tailwindcss";

/* Bulma互換のカスタムテーマ */
@theme {
    /* カラーパレット */
    --color-primary: #00d1b2;
    --color-link: #485fc7;
    --color-info: #3e8ed0;
    --color-success: #48c78e;
    --color-warning: #ffe08a;
    --color-danger: #f14668;

    /* ダークナビバー背景 */
    --color-navbar-dark: #363636;

    /* Box shadow (Bulma互換) */
    --shadow-box: 0 0.5em 1em -0.125em rgba(10, 10, 10, 0.1), 0 0px 0 1px rgba(10, 10, 10, 0.02);
}

/* スケルトンローダー用アニメーション */
@keyframes pulse-skeleton {
    0%,
    100% {
        opacity: 0.6;
    }
    50% {
        opacity: 1;
    }
}

.animate-pulse-skeleton {
    animation: pulse-skeleton 1.5s ease-in-out infinite;
}

/* スライダー（range input）のカスタムスタイル */
input[type="range"] {
    -webkit-appearance: none;
    appearance: none;
    width: 100%;
    height: 0.5rem;
    border-radius: 0.25rem;
    background: #e5e7eb;
    outline: none;
}

input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 1rem;
    height: 1rem;
    border-radius: 50%;
    background: #3e8ed0;
    cursor: pointer;
    transition: background 0.15s ease-in-out;
}

input[type="range"]::-webkit-slider-thumb:hover {
    background: #2c7abf;
}

input[type="range"]::-moz-range-thumb {
    width: 1rem;
    height: 1rem;
    border-radius: 50%;
    background: #3e8ed0;
    cursor: pointer;
    border: none;
    transition: background 0.15s ease-in-out;
}

input[type="range"]::-moz-range-thumb:hover {
    background: #2c7abf;
}

/* ダークモード対応 */
@media (prefers-color-scheme: dark) {
    input[type="range"] {
        background: #4b5563;
    }
}

/* スクロールバーのスタイル */
.custom-scrollbar::-webkit-scrollbar {
    width: 8px;
}

.custom-scrollbar::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 4px;
}

.custom-scrollbar::-webkit-scrollbar-thumb {
    background: #c1c1c1;
    border-radius: 4px;
}

.custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: #a1a1a1;
}

@media (prefers-color-scheme: dark) {
    .custom-scrollbar::-webkit-scrollbar-track {
        background: #374151;
    }

    .custom-scrollbar::-webkit-scrollbar-thumb {
        background: #6b7280;
    }

    .custom-scrollbar::-webkit-scrollbar-thumb:hover {
        background: #9ca3af;
    }
}

/* ファイルリストのパフォーマンス最適化 */

/* 仮想スクロールリストのコンテナ */
.file-list-container {
    /* コンテナのレイアウトを独立させる */
    contain: strict;
    /* スクロール時のGPUアクセラレーション */
    will-change: scroll-position;
}

/* 各リストアイテム */
.file-list-item {
    /* レイアウト・スタイル・描画を独立させる（他要素への影響を遮断） */
    contain: layout style paint;
    /* transform の準備（スクロール時のスムーズな描画） */
    will-change: transform;
    /* GPUレイヤーに昇格してスクロールパフォーマンス向上 */
    transform: translateZ(0);
    /* バックフェイス非表示でメモリ節約 */
    backface-visibility: hidden;
}

/* スクロール中はアニメーション効果を軽減 */
.file-list-container:active .file-list-item,
.file-list-container:focus-within .file-list-item {
    transition: none;
}

/* 通知のフェードインアニメーション */
@keyframes fade-in {
    from {
        opacity: 0;
        transform: translateY(-1rem);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.animate-fade-in {
    animation: fade-in 0.3s ease-out forwards;
}
